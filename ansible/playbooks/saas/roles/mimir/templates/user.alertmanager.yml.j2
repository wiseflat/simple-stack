---
global:
  resolve_timeout: 5m

route:
  group_by: ['alertname', 'cluster', 'service']
  repeat_interval: 90m
  group_interval: 5m
  group_wait: 60s
  receiver: default

  routes:
    - receiver: default
      match_re:
        severity: critical|warning
      continue: true

inhibit_rules:
  - source_match:
      severity: 'critical'
    target_match:
      severity: 'warning'
    # Apply inhibition if the alertname is the same.
    equal: ['alertname', 'cluster', 'service']

receivers: {% if alertmanager.receivers is not defined %}[]{% endif %}

{{ alertmanager.receivers | default('') | to_nice_yaml(indent=4) }}

